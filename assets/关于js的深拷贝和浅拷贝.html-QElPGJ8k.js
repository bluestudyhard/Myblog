const e=JSON.parse(`{"key":"v-0512853b","path":"/frontend/javascript/%E5%85%B3%E4%BA%8Ejs%E7%9A%84%E6%B7%B1%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%B5%85%E6%8B%B7%E8%B4%9D.html","title":"","lang":"zh-CN","frontmatter":{"description":"起因 在写我的navigation项目时，我拿取仓库的网站列表数据(存在local中),然后想使用一个temp数组在后台添加一个checked属性，以便更好的控制checkbox的状态，但是我发现，我在temp数组中添加checked属性后，local中的数据也被添加了checked属性，这是为什么呢？ 一开始我以为是pinia的持久化插件的问题，自动检测到我的数据变化就给我更新了 但是我把他注释掉后，而且使用了原生的localStorage.setItem()方法，还是会出现这个问题，那我们继续排查 先让我们看看代码 在这里面我首先拿数据时就使用了解构赋值，然后我又使用了map，map本身就是获得一个新的数组，所以我想，我在map中添加checked属性，应该不会影响到原数组的，而且console出来的值也表示这俩货不相等，那么问题出现在哪里呢？ 检索网上+自己实验后发现，解构赋值在1层数组的时候实现的是深拷贝 但是我的website数组，嵌套了两层 由此引出了解决方法 方法1是传统的JSON.parse(JSON.stringify())方法","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/frontend/javascript/%E5%85%B3%E4%BA%8Ejs%E7%9A%84%E6%B7%B1%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%B5%85%E6%8B%B7%E8%B4%9D.html"}],["meta",{"property":"og:site_name","content":"melingkk's blog"}],["meta",{"property":"og:description","content":"起因 在写我的navigation项目时，我拿取仓库的网站列表数据(存在local中),然后想使用一个temp数组在后台添加一个checked属性，以便更好的控制checkbox的状态，但是我发现，我在temp数组中添加checked属性后，local中的数据也被添加了checked属性，这是为什么呢？ 一开始我以为是pinia的持久化插件的问题，自动检测到我的数据变化就给我更新了 但是我把他注释掉后，而且使用了原生的localStorage.setItem()方法，还是会出现这个问题，那我们继续排查 先让我们看看代码 在这里面我首先拿数据时就使用了解构赋值，然后我又使用了map，map本身就是获得一个新的数组，所以我想，我在map中添加checked属性，应该不会影响到原数组的，而且console出来的值也表示这俩货不相等，那么问题出现在哪里呢？ 检索网上+自己实验后发现，解构赋值在1层数组的时候实现的是深拷贝 但是我的website数组，嵌套了两层 由此引出了解决方法 方法1是传统的JSON.parse(JSON.stringify())方法"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-02-26T15:15:38.000Z"}],["meta",{"property":"article:author","content":"bluestudyhard"}],["meta",{"property":"article:modified_time","content":"2024-02-26T15:15:38.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-02-26T15:15:38.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"bluestudyhard\\",\\"url\\":\\"https://github.com/bluestudyhard?tab=repositories\\"}]}"]]},"headers":[{"level":2,"title":"起因","slug":"起因","link":"#起因","children":[]}],"git":{"createdTime":1708960538000,"updatedTime":1708960538000,"contributors":[{"name":"bluestudyhard","email":"3164752596@qq.com","commits":1}]},"readingTime":{"minutes":1.33,"words":400},"filePathRelative":"frontend/javascript/关于js的深拷贝和浅拷贝.md","localizedDate":"2024年2月26日","excerpt":"<h2> 起因</h2>\\n<p>在写我的navigation项目时，我拿取仓库的网站列表数据(存在local中),然后想使用一个temp数组在后台添加一个checked属性，以便更好的控制checkbox的状态，但是我发现，我在temp数组中添加checked属性后，local中的数据也被添加了checked属性，这是为什么呢？<br>\\n一开始我以为是pinia的持久化插件的问题，自动检测到我的数据变化就给我更新了<br>\\n但是我把他注释掉后，而且使用了原生的localStorage.setItem()方法，还是会出现这个问题，那我们继续排查</p>\\n<ul>\\n<li>先让我们看看代码<br>\\n<br>\\n在这里面我首先拿数据时就使用了解构赋值，然后我又使用了map，map本身就是获得一个新的数组，所以我想，我在map中添加checked属性，应该不会影响到原数组的，而且console出来的值也表示这俩货不相等，那么问题出现在哪里呢？</li>\\n<li>检索网上+自己实验后发现，解构赋值在1层数组的时候实现的是深拷贝<br>\\n</li>\\n<li>但是我的website数组，嵌套了两层<br>\\n<br>\\n由此引出了解决方法<br>\\n方法1是传统的<code>JSON.parse(JSON.stringify())</code>方法</li>\\n</ul>","autoDesc":true}`);export{e as data};
